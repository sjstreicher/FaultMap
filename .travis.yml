language: python
python:
  - "2.7"
virtualenv:
    system_site_packages: true

before_install:
  - sudo apt-get update
  - sudo apt-get install pkg-config
  - sudo apt-get install default-jdk wget
  - sudo apt-get install python python-dev python-pip cython
  - sudo apt-get install libfreetype6-dev libxft-dev libpng-dev libxext-dev
  - sudo apt-get install gfortran libopenblas-dev liblapack-dev libhdf5-serial-dev
  - sudo apt-get install python-numpy python-scipy python-matplotlib
  - sudo apt-get install python-cairo
  

# command to install dependencies, e.g. pip install -r requirements.txt --use-mirrors
install:
  - pip install numpy
  - pip install numexpr
  - pip install -r requirements.txt
  
before_script:
  # Install pathos
  - cd ~
  - sudo mkdir repos
  - cd repos
  - sudo git clone git://github.com/uqfoundation/pathos.git
  - cd pathos
  - sudo wget http://dev.danse.us/packages/pathos-0.1a1.tgz
  - sudo tar -xvzf pathos-0.1a1.tgz
  - sudo easy_install -f . pathos-0.1a1
  - sudo python setup.py install
  
  # Install pyunicorn
  - cd ~
  - cd repos
  - sudo mkdir pyunicorn
  - sudo wget https://www.dropbox.com/s/s5giot81t87h8h4/pyunicorn-0.3.2.tar.gz
  - sudo tar -xvzf pyunicorn-0.3.2.tar.gz
  - cd pyunicorn-0.3.2
  - sudo python setup.py install
    
  # Install JPype1
  - cd ~
  - cd repos
  - sudo git clone git://github.com/originell/jpype.git
  - cd jpype
  - sudo git reset --hard 50cfd194bb20631feda50fedae41ed18eeca1668
  - sudo python setup.py install
  

# command to run tests, e.g. python setup.py test
script:
  - nosetests --exclude-dir=repos